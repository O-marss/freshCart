import{c as C,e as L,r as n,j as e,L as y,l as O}from"./index-C0o9T5AH.js";import{R as P}from"./react-paginate-Dl64aMz6.js";import{u as w}from"./useBrands-Bl34rzI0.js";import{S as B,u as E,P as F}from"./Sorting-NBP_Y-oi.js";function $(){const{id:m}=C(),{data:s}=w(`https://ecommerce.routemisr.com/api/v1/brands/${m}`,`getSpecificBrand${m}`),{data:r,isLoading:f}=L("https://ecommerce.routemisr.com/api/v1/products","allProducts"),[x,g]=n.useState([]),{handleSorting:d}=E(),[l,u]=n.useState("default"),[t,p]=n.useState([]);n.useEffect(()=>{if(r&&s){const a=r==null?void 0:r.filter(c=>c.brand.name===(s==null?void 0:s.name));g(a)}},[r,s]),n.useEffect(()=>{const a=d([...x],l);p(a)},[x,l]);function h({itemsPerPage:a}){const[c,j]=n.useState(0),S=c+a,o=t==null?void 0:t.slice(c,S),b=Math.ceil((t==null?void 0:t.length)/a),v=i=>{const N=i.selected*a%(t==null?void 0:t.length);j(N)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-wrap justify-center items-center ",children:o==null?void 0:o.map(i=>i.brand.name==(s==null?void 0:s.name)&&e.jsx(F,{product:i},i.id))}),e.jsx(P,{breakLabel:"...",nextLabel:"next >",onPageChange:v,pageRangeDisplayed:5,pageCount:b,previousLabel:"< previous",renderOnZeroPageCount:null,containerClassName:"pagination",activeClassName:"active"})]})}return e.jsx(e.Fragment,{children:f?e.jsx(y,{}):e.jsx(e.Fragment,{children:e.jsx("section",{className:"pt-20 lg:px-14 container",children:t!=null&&t.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center items-center pb-8 lg:pb-0",children:e.jsx("img",{src:s==null?void 0:s.image,alt:""})}),e.jsx(B,{sortValue:l,setSortValue:u}),e.jsx(h,{itemsPerPage:8})]}):e.jsxs("div",{className:"flex flex-col items-center pt-12",children:[e.jsx("img",{src:O,alt:"",width:500,className:"p-12"}),e.jsx("p",{className:"text-xl md:text-xl lg:text-2xl text-center mb-5 md:mb-2",children:"Weâ€™re sorry, but the products in this brand are unavailable right now."}),e.jsx("p",{className:"md:text-lg text-gray-600 text-center",children:"In the meantime, feel free to explore other categories or reach out to us for more help"})]})})})})}export{$ as default};
