import{u as h,D as m,E as l,H as p,j as e,J as x}from"./index-DYQH2SRP.js";function f(){const n={token:localStorage.getItem("userToken")};let{data:i}=h();async function a(u){try{let{data:s}=await x.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${i.cartId}?url=http://localhost:5174`,{shippingAddress:u},{headers:n});location.href=s.session.url}catch(s){console.log(s)}}let d=m().shape({details:l().required("Please write a minimum 2 words").min(3,"Must be more than 5 characters").max(15,"Must be less than 50 characters"),city:l().required("City is required"),phone:l().matches(/^(?:01[0125]\d{8})?$|^$/,"Please provide only egyptian phone number").required("Please Enter your phone number")}),r=p({initialValues:{details:"",city:"",phone:""},validationSchema:d,onSubmit:a}),{handleSubmit:c,handleBlur:t,handleChange:o}=r;return e.jsx(e.Fragment,{children:e.jsx("section",{className:"flex flex-col items-center justify-center pt-20 mt-12 lg:px-14 container",children:e.jsxs("form",{id:"form",onSubmit:c,className:" w-full md:w-3/4 lg:w-1/2  flex flex-col gap-5 py-6 mx-auto px-8 bg-white",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-medium font-serif tracking-wide ",children:"Enter your shipping address"})}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"city",className:"block mb-1 text-lg font-medium ",children:["City ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",name:"city",id:"city",value:r.values.city,onBlur:t,onChange:o,className:`shadow-inner bg-white border border-gray-700  text-sm rounded-lg focus:ring-[#222]  focus:border-[#222] block w-full px-2.5 py-3.5  focus-visible:outline-none ${r.errors.city&&r.touched.city&&"bg-red-100 border border-red-600 focus:ring-red-600  focus:border-red-600"}`,placeholder:"Enter your city"}),r.errors.city&&r.touched.city&&e.jsx("div",{className:"rounded-lg text-red-500 py-3",children:r.errors.city})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"phone",className:"block mb-1 text-lg font-medium",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.values.phone,onBlur:t,onChange:o,className:`shadow-inner bg-white border border-gray-700  text-sm rounded-lg focus:ring-[#222]  focus:border-[#222] block w-full px-2.5 py-3.5  focus-visible:outline-none ${r.errors.phone&&r.touched.phone&&"bg-red-100 border border-red-600 focus:ring-red-600  focus:border-red-600"}`,placeholder:"+20 "}),r.errors.phone&&r.touched.phone&&e.jsx("div",{className:"rounded-lg text-red-500 py-3",children:r.errors.phone})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"details",className:"block mb-1 text-lg font-medium ",children:"Details"}),e.jsx("textarea",{type:"text",name:"details",id:"details",value:r.values.details,onBlur:t,onChange:o,className:`shadow-inner bg-white border border-gray-700  text-sm rounded-lg focus:ring-[#222]  focus:border-[#222] block w-full px-2.5 py-3.5  focus-visible:outline-none ${r.errors.details&&r.touched.details&&"bg-red-100 border border-red-600 focus:ring-red-600  focus:border-red-600"}`,placeholder:"Write your comment here",rows:"5"}),r.errors.details&&r.touched.details&&e.jsx("div",{className:"rounded-lg text-red-500 py-3",children:r.errors.details})]}),e.jsx("button",{form:"form",type:"submit",className:"w-full mx-auto flex justify-center px-5 py-2.5 bg-[#222] text-white text-lg hover:bg-opacity-75 hover:scale-[1.03] transition-all focus:ring-none focus:outline-none focus:ring-man font-medium rounded-full",children:"Continue to payment"}),e.jsx("div",{className:"text-sm",children:"By choosing “Continue to payment,” you consent to sharing your phone number with sellers if they need to give shipping carriers this info to ship your package or provide order updates."})]})})})}export{f as default};
