import{g as b,u as v,j as s,z as f,b as _,A as N}from"./index-DYQH2SRP.js";const y="_product_o0bub_1",A="_add_favorite_icon_o0bub_23",w="_delete_favorite_icon_o0bub_51",S="_card_add_o0bub_79",m={product:y,add_favorite_icon:A,delete_favorite_icon:w,card_add:S};function F({product:e}){const n=localStorage.getItem("userToken"),{wishListResponse:l,addToWishListResponse:i,deleteFromWishListResponse:a}=b(),{addResponse:h}=v(),{mutate:d}=h,{data:t}=l,{mutate:c}=a,{mutate:o}=i,r=x=>{o({productId:x})},j=x=>{c({productId:x})},g=x=>{d({productId:x})};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"w-1/2 md:w-4/12 lg:w-3/12 p-2 md:p-4 lg:p-2 !pt-4 ",children:s.jsxs("div",{className:`${m.product} pb-2 border border-zinc-200 rounded-2xl overflow-hidden h-[355px] md:h-[420px] lg:h-[460px]`,children:[n&&(t==null?void 0:t.data.length)>0?s.jsx("button",{onClick:()=>t!=null&&t.data.some(x=>x.id===(e==null?void 0:e.id))?j(e==null?void 0:e.id):r(e==null?void 0:e.id),children:s.jsx(f,{className:`${t!=null&&t.data.some(x=>x.id===(e==null?void 0:e.id))?m.delete_favorite_icon:m.add_favorite_icon} text-2xl md:text-xl`})}):s.jsx("button",{onClick:()=>r(e==null?void 0:e.id),children:s.jsx(f,{className:`${m.add_favorite_icon} text-2xl md:text-xl`})}),s.jsxs(_,{to:`/productdetails/${e==null?void 0:e.id}`,children:[s.jsx("div",{className:"relative ",children:s.jsx("img",{src:e==null?void 0:e.imageCover,alt:e==null?void 0:e.title,className:"mt-0 border-b border-zinc-200 md:max-h-[350px] w-full"})}),s.jsxs("div",{className:"px-3 py-2 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium line-clamp-1 ",children:e==null?void 0:e.title}),e!=null&&e.priceAfterDiscount?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-start justify-between",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsxs("span",{className:"text-[#0f743b] text-sm md:text-xl font-semibold",children:["EGP"," ",e==null?void 0:e.priceAfterDiscount.toFixed(2)]}),s.jsxs("div",{className:"flex gap-1 md:gap-3 items-center",children:[s.jsxs("span",{className:"line-through text-gray-700 text-[12px] md:text-sm",children:["EGP ",e==null?void 0:e.price.toFixed(2)]}),s.jsxs("span",{className:"text-[11px] rounded-full font-semibold",children:["(",(((e==null?void 0:e.price)-(e==null?void 0:e.priceAfterDiscount))/(e==null?void 0:e.price)*100).toFixed(0),"% Off )"]})]})]}),s.jsxs("div",{className:"text-sm space-x-2 text-end",children:[s.jsx("span",{className:"font-semibold",children:e==null?void 0:e.ratingsAverage}),s.jsx("span",{children:s.jsx("i",{className:"fa fa-star text-[#ffc908]"})}),s.jsxs("span",{className:"text-[12px]",children:["(",e==null?void 0:e.ratingsQuantity,")"]})]})]})}):s.jsxs("div",{className:"flex flex-col justify-between items-start ",children:[s.jsxs("span",{className:"text-[#0f743b] text-sm md:text-xl font-semibold",children:["EGP ",e==null?void 0:e.price.toFixed(2)]}),s.jsxs("div",{className:"text-sm space-x-2 text-end",children:[s.jsx("span",{className:"font-semibold",children:e==null?void 0:e.ratingsAverage}),s.jsx("span",{children:s.jsx("i",{className:"fa fa-star text-[#ffc908]"})}),s.jsxs("span",{className:"text-[12px]",children:["(",e==null?void 0:e.ratingsQuantity,")"]})]})]})]})]}),s.jsxs("button",{className:`${m.card_add} flex gap-2 justify-center items-center text-sm text-white font-semibold bg-[#222] px-5 py-2 mx-auto hover:bg-opacity-75 z-[999]`,onClick:()=>g(e.id),children:[s.jsx("span",{children:"Quick Add"}),s.jsx(N,{className:"text-lg font-semibold"})]})]})})})}function L(){return{handleSorting:(n,l)=>{if(l=="default")return n;if(l=="rating")return n.sort((i,a)=>a.ratingsAverage-i.ratingsAverage);if(l=="popularity")return n.sort((i,a)=>a.sold-i.sold);if(l=="latest")return n.sort((i,a)=>a.createdAt-i.createdAt);if(l=="priceAsc")return n.sort((i,a)=>i.price-a.price);if(l=="priceDes")return n.sort((i,a)=>a.price-i.price)}}}function k({sortValue:e,setSortValue:n}){return s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs("select",{className:"border-2 border-[#222] rounded-lg px-3 py-2 text-sm font-medium",value:e,onChange:l=>n(l.target.value),children:[s.jsx("option",{value:"default",children:"Default sorting"}),s.jsx("option",{value:"popularity",children:"Sort by popularity"}),s.jsx("option",{value:"rating",children:"Sort by average rating"}),s.jsx("option",{value:"latest",children:"Sort by latest"}),s.jsx("option",{value:"priceAsc",children:"Sort by price: low to high"}),s.jsx("option",{value:"priceDes",children:"Sort by price: high to low"})]})})})}export{F as P,k as S,L as u};
