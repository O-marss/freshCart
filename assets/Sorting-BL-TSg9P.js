import{g as m,u as j,j as s,z as r,b as o,A as g}from"./index-zfnpFJ4X.js";const b="_product_o0bub_1",v="_add_favorite_icon_o0bub_23",_="_delete_favorite_icon_o0bub_51",N="_card_add_o0bub_79",x={product:b,add_favorite_icon:v,delete_favorite_icon:_,card_add:N};function A({product:e,favoriteList:l}){const{data:i}=m("get"),{mutate:a}=j("post"),{mutate:t}=m("delete"),{mutate:d}=m("post"),f=n=>{d({productId:n})},h=n=>{t({productId:n})},c=n=>{a({productId:n})};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"w-1/2 md:w-4/12 lg:w-3/12 p-2 md:p-4 lg:p-2 !pt-4 ",children:s.jsxs("div",{className:`${x.product} pb-2 border border-zinc-200 rounded-2xl overflow-hidden h-[355px] md:h-[420px] lg:h-[460px]`,children:[i.data.length>0?i==null?void 0:i.data.map(n=>n.id==(e==null?void 0:e.id)?s.jsx("button",{onClick:()=>h(e==null?void 0:e.id),children:s.jsx(r,{className:`${x.delete_favorite_icon} text-2xl md:text-xl`})}):s.jsx("button",{onClick:()=>f(e==null?void 0:e.id),children:s.jsx(r,{className:`${x.add_favorite_icon} text-2xl md:text-xl`})})):s.jsx("button",{onClick:()=>f(e==null?void 0:e.id),children:s.jsx(r,{className:`${x.add_favorite_icon} text-2xl md:text-xl`})}),s.jsxs(o,{to:`/productdetails/${e==null?void 0:e.id}`,children:[s.jsx("div",{className:"relative ",children:s.jsx("img",{src:e==null?void 0:e.imageCover,alt:e==null?void 0:e.title,className:"mt-0 border-b border-zinc-200 md:max-h-[350px] w-full"})}),s.jsxs("div",{className:"px-3 py-2 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium line-clamp-1 ",children:e==null?void 0:e.title}),e!=null&&e.priceAfterDiscount?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-start justify-between",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsxs("span",{className:"text-[#0f743b] text-sm md:text-xl font-semibold",children:["EGP"," ",e==null?void 0:e.priceAfterDiscount.toFixed(2)]}),s.jsxs("div",{className:"flex gap-1 md:gap-3 items-center",children:[s.jsxs("span",{className:"line-through text-gray-700 text-[12px] md:text-sm",children:["EGP ",e==null?void 0:e.price.toFixed(2)]}),s.jsxs("span",{className:"text-[11px] rounded-full font-semibold",children:["(",(((e==null?void 0:e.price)-(e==null?void 0:e.priceAfterDiscount))/(e==null?void 0:e.price)*100).toFixed(0),"% Off )"]})]})]}),s.jsxs("div",{className:"text-sm space-x-2 text-end",children:[s.jsx("span",{className:"font-semibold",children:e==null?void 0:e.ratingsAverage}),s.jsx("span",{children:s.jsx("i",{className:"fa fa-star text-[#ffc908]"})}),s.jsxs("span",{className:"text-[12px]",children:["(",e==null?void 0:e.ratingsQuantity,")"]})]})]})}):s.jsxs("div",{className:"flex flex-col justify-between items-start ",children:[s.jsxs("span",{className:"text-[#0f743b] text-sm md:text-xl font-semibold",children:["EGP ",e==null?void 0:e.price.toFixed(2)]}),s.jsxs("div",{className:"text-sm space-x-2 text-end",children:[s.jsx("span",{className:"font-semibold",children:e==null?void 0:e.ratingsAverage}),s.jsx("span",{children:s.jsx("i",{className:"fa fa-star text-[#ffc908]"})}),s.jsxs("span",{className:"text-[12px]",children:["(",e==null?void 0:e.ratingsQuantity,")"]})]})]})]})]}),s.jsxs("button",{className:`${x.card_add} flex gap-2 justify-center items-center text-sm text-white font-semibold bg-[#222] px-5 py-2 mx-auto hover:bg-opacity-75 z-[999]`,onClick:()=>c(e.id),children:[s.jsx("span",{children:"Quick Add"}),s.jsx(g,{className:"text-lg font-semibold"})]})]})})})}function C(){return{handleSorting:(l,i)=>{if(i=="default")return l;if(i=="rating")return l.sort((a,t)=>t.ratingsAverage-a.ratingsAverage);if(i=="popularity")return l.sort((a,t)=>t.sold-a.sold);if(i=="latest")return l.sort((a,t)=>t.createdAt-a.createdAt);if(i=="priceAsc")return l.sort((a,t)=>a.price-t.price);if(i=="priceDes")return l.sort((a,t)=>t.price-a.price)}}}function w({sortValue:e,setSortValue:l}){return s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs("select",{className:"border-2 border-[#222] rounded-lg px-3 py-2 text-sm font-medium",value:e,onChange:i=>l(i.target.value),children:[s.jsx("option",{value:"default",children:"Default sorting"}),s.jsx("option",{value:"popularity",children:"Sort by popularity"}),s.jsx("option",{value:"rating",children:"Sort by average rating"}),s.jsx("option",{value:"latest",children:"Sort by latest"}),s.jsx("option",{value:"priceAsc",children:"Sort by price: low to high"}),s.jsx("option",{value:"priceDes",children:"Sort by price: high to low"})]})})})}export{A as P,w as S,C as u};
