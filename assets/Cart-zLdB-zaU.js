import{G as F,u as i,r as n,a as L,j as e,L as z,F as E,O as G,b as r,c as I,R as M,I as O}from"./index-zfnpFJ4X.js";const $="_label_5ozff_1",H="_radio_input_5ozff_17",R="_radio_design_5ozff_37",a={label:$,radio_input:H,radio_design:R};function S(t){return F({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(t)}function Q(){var u;const{data:t,isFetching:c,isLoading:f}=i("get");console.log(t);const{mutate:p,isPending:d}=i("put"),{mutate:g,isPending:j}=i("delete");let[o,x]=n.useState(!0),[y,m]=n.useState(!1);const{hideOverlay:b,showOverlay:N}=L(),[v,w]=n.useState({}),h=(s,l)=>{p({productId:s,count:l}),w(_=>({..._,[s]:l}))},C=s=>{g({productId:s})},P=s=>{m(!s.target.checked),x(s.target.checked)},k=s=>{x(!s.target.checked),m(s.target.checked)};return n.useEffect(()=>{c||d?N():b()},[c,d]),e.jsx(e.Fragment,{children:f?e.jsx(z,{}):e.jsxs("section",{className:"pt-20 mt-12 p-8 lg:px-14 container",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Your Cart"}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{children:e.jsx(E,{className:"text-6xl inline-block me-2 text-main"})})," ",e.jsx("span",{className:"font-semibold",children:"Buy confidently"})," ",e.jsx("span",{className:"font-normal",children:"with FrechCart's Purchase Protection program for buyers, get a full refund in the rare case your item doesn't arrive, arrives damaged, or isn't as described"})]}),t!=null&&t.data?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between mt-5",children:[e.jsx("div",{className:"w-full md:w-2/4 lg:w-3/5 lg:pe-20",children:(u=t==null?void 0:t.data)==null?void 0:u.products.map(s=>e.jsxs("div",{className:"border border-gray-300 rounded-xl mb-6 flex flex-col",children:[e.jsx("div",{className:"px-2 md:px-2 lg:px-5",children:e.jsx("img",{src:s.product.brand.image,alt:s.product.brand.name,className:" w-1/6 lg:w-1/12 "})}),e.jsxs("div",{className:"flex flex-col lg:flex-row p-2 md:p-2 lg:p-5 lg:items-start !pt-0",children:[e.jsxs("div",{className:"flex gap-2 justify-between lg:justify-start lg:gap-8 lg:w-3/4",children:[e.jsx("div",{className:"w-1/3 lg:w-1/4 flex flex-col-reverse  items-center justify-center gap-3",children:e.jsx("img",{src:s.product.imageCover,alt:s.product.title,className:"max-h-[230px] rounded-lg"})}),e.jsxs("div",{className:"w-2/3 md:w-2/3 lg:w-2/3 flex flex-col gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm lg:text-base ps-2 lg:ps-0 w-fit",children:s.product.title}),e.jsxs("div",{className:"flex gap-2 ps-2 lg:ps-0",children:[e.jsx("p",{className:"text-[10px] md:text-[11px] font-semibold bg-gray-100 w-fit rounded-full px-0.5 lg:px-2 py-1 mt-2",children:s.product.category.name}),s.product.subcategory.map(l=>e.jsx("p",{className:"text-[10px] md:text-[11px] font-semibold bg-gray-100 w-fit rounded-full px-0.5 lg:px-2 py-1 mt-2",children:l.name},l._id))]})]}),e.jsxs("div",{className:"flex items-center ps-2 lg:ps-0",children:[e.jsxs("button",{className:"inline-flex items-center justify-center p-1 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full",disabled:s.count==1,onClick:()=>{h(s.product.id,s.count-1)},children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1h16"})})]}),e.jsx("div",{className:"ms-3",children:e.jsx("span",{id:"first_product",className:"w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1",children:v[s.product.id]||s.count})}),e.jsxs("button",{className:"inline-flex items-center justify-center h-6 w-6 p-1 ms-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full ",onClick:()=>h(s.product.id,s.count+1),children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 1v16M1 9h16"})})]}),e.jsxs("button",{className:"text-[12px] font-bold ms-2 lg:ms-8 p-3 relative after:absolute after:content-[''] after:top-0 after:bottom-0 after:start-0 after:end-0 after:bg-gray-200 after:rounded-full after:scale-0 after:transition-all after:-z-10 after:opacity-0 hover:after:opacity-100 hover:after:scale-100 ",onClick:()=>C(s.product.id),children:["Remove",j&&e.jsx(G,{})]})]})]})]}),e.jsx("div",{className:" lg:w-1/4",children:e.jsxs("div",{className:" flex flex-col items-end justify-start lg:justify-start",children:[e.jsxs("span",{className:"text-main text-lg font-semibold",children:["EGP ",(s.price*s.count).toFixed(2)]}),s.count>1?e.jsxs("p",{className:"text-[13px] text-gray-600",children:["(",e.jsx("span",{className:"me-1",children:"EGP"}),(s.price*s.count/s.count).toFixed(2),e.jsx("span",{className:"ms-1",children:"each"}),")"]}):""]})})]}),e.jsxs(r,{to:`/productdetails/${s.product.id}`,className:"flex justify-end items-center gap-2 py-3 px-8 text-gray-800 font-medium border-t border-gray-300 group relative ",children:[e.jsx("p",{children:"Go to this product"}),e.jsx(I,{className:"text-[12px] transition-all absolute top-1/2 -translate-y-1/2 start-auto right-3 bottom-0 group-hover:right-2"})]})]},s._id))}),e.jsx("div",{className:" md:w-1/3 md:flex-1 md:px-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"How you'll pay"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{className:`${a.label}`,children:[e.jsx("input",{type:"radio",id:"onlinePayChoice",name:"paymentMethod",value:"onlinePayChoice",className:`${a.radio_input}`,checked:o,onChange:P}),e.jsx("div",{className:`${a.radio_design}`}),e.jsxs("div",{className:"flex gap-4 text-4xl",children:[e.jsx("span",{children:e.jsx(S,{className:"text-blue-600"})}),e.jsx("span",{children:e.jsx(M,{})})]})]}),e.jsxs("label",{className:`${a.label}`,children:[e.jsx("input",{type:"radio",id:"cashPayChoice",name:"paymentMethod",value:"cashPayChoice",className:`${a.radio_input}`,checked:y,onChange:k}),e.jsx("div",{className:`${a.radio_design}`}),e.jsxs("div",{className:"flex gap-4 items-center ",children:[e.jsx("span",{className:"font-semibold",children:"Cash"}),e.jsx("span",{children:e.jsx(O,{className:"text-green-800 text-4xl"})})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-5 border-b border-gray-200 pb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Item(s) total"}),e.jsxs("span",{children:["EGP ",e.jsx("span",{children:t==null?void 0:t.data.totalCartPrice.toFixed(2)})]})]}),e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("span",{className:"font-medium",children:"Shop discount"}),e.jsxs("span",{children:["EGP ",e.jsx("span",{children:"00.00"})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 font-semibold ",children:[e.jsxs("span",{className:"",children:["Total (",t==null?void 0:t.numOfCartItems," itmes)"]}),e.jsxs("span",{children:["EGP ",e.jsx("span",{children:t==null?void 0:t.data.totalCartPrice.toFixed(2)})]})]})]}),e.jsx("div",{children:o?e.jsx(r,{to:"/checkout",className:"w-full mx-auto my-5 flex justify-center px-5 py-3 bg-[#222] text-white hover:bg-opacity-75 hover:scale-[1.03] transition-all focus:ring-none focus:outline-none focus:ring-man font-medium rounded-full",children:"Proceed to Checkout"}):e.jsx(r,{to:"/cashpayment",className:"w-full mx-auto my-5 flex justify-center px-5 py-3 bg-[#222] text-white hover:bg-opacity-75 hover:scale-[1.03] transition-all focus:ring-none focus:outline-none focus:ring-man font-medium rounded-full",children:"Cash Payment"})})]})})]})}):e.jsx("div",{children:"Not Found any product"})]})})}export{Q as default};
